<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Pizza Thief 2.5D</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
html,body{margin:0;overflow:hidden;background:#0b0b0b;font-family:Arial}
canvas{display:block}

#ui{
 position:fixed;top:10px;left:10px;color:#fff;
 font-size:18px;z-index:10
}
</style>
</head>
<body>

<div id="ui">
â­ Score: <span id="score">0</span><br>
ğŸ Level: <span id="level">1</span><br>
ğŸ† Best: <span id="best">0</span>
</div>

<canvas id="c"></canvas>

<script>
/* ===== SETUP ===== */
const canvas = document.getElementById("c");
const ctx = canvas.getContext("2d");
canvas.width = innerWidth;
canvas.height = innerHeight;

const scoreEl = document.getElementById("score");
const levelEl = document.getElementById("level");
const bestEl  = document.getElementById("best");

let score=0, level=1, best=+localStorage.best||0;
bestEl.textContent = best;

/* ===== AUDIO ===== */
const AC = window.AudioContext || webkitAudioContext;
const audio = new AC();
function beep(f){
 let o=audio.createOscillator(),g=audio.createGain();
 o.connect(g); g.connect(audio.destination);
 o.frequency.value=f;
 g.gain.value=.15;
 o.start();
 o.stop(audio.currentTime+.15);
}

/* ===== PLAYER ===== */
const p={x:120,y:0,vx:0,vy:0,w:40,h:80,walk:0};

/* ===== ENEMY ===== */
let enemy={x:canvas.width+100,vx:-3};

/* ===== CONTROLS ===== */
let keys={};
onkeydown=e=>keys[e.key]=1;
onkeyup=e=>keys[e.key]=0;

/* ===== LOOP ===== */
function loop(){
 ctx.clearRect(0,0,canvas.width,canvas.height);

 let ground = canvas.height*.75;
 ctx.fillStyle="#333";
 ctx.fillRect(0,ground,canvas.width,canvas.height);

 // Player move
 p.vx=(keys.ArrowRight?5:0)-(keys.ArrowLeft?5:0);
 p.x+=p.vx;
 if(p.vx) p.walk+=.2;

 if(keys[" "] && p.y===0){p.vy=-18;beep(500);}
 p.vy+=1;
 p.y+=p.vy;
 if(p.y>0){p.y=0;p.vy=0;}

 // Player draw
 ctx.fillStyle="#0f0";
 ctx.fillRect(p.x-20,ground-80+p.y,40,80);

 // Enemy
 enemy.x+=enemy.vx;
 ctx.fillStyle="#c00";
 ctx.fillRect(enemy.x-20,ground-80,40,80);
 if(enemy.x<0){
  enemy.x=canvas.width+100;
  score+=500;
  level++;
  beep(800);
 }

 score++;
 scoreEl.textContent=score;
 levelEl.textContent=level;
 if(score>best){best=score;localStorage.best=best;bestEl.textContent=best;}

 requestAnimationFrame(loop);
}
loop();
</script>
</body>
</html>

